<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.aezen.www.repository.WithdrawRepository">

  <!-- 회원 조회 -->
  <select id="findUserById" parameterType="string" resultType="com.aezen.www.vo.UserVO">
    SELECT * FROM user
    WHERE id = #{id}
  </select>

  <!-- 탈퇴 상태 변경 -->
  <update id="updateWithdrawStatus">
  UPDATE user
  SET withdraw = TRUE,
      withdraw_At = NOW()
  WHERE id = #{id}
</update>

<update id="hideUserBoards">
  UPDATE board
  SET board_deleted = 1
  WHERE id = #{id}
</update>

</mapper>
